{% macro tutorials_table(rows) %}
    {% import _self as self %}
    <table class="tutorials-table" role="table">
        <thead>
        <tr>
            <th>Tutorial</th>
            <th style="width:120px">Skill</th>
            <th style="width:160px">Author</th>
            <th style="width:140px">Type</th>
            <th style="width:70px;text-align:right">Views</th>
        </tr>
        </thead>
        <tbody>
        {% for r in rows %}
            <tr>
                <td data-label="Tutorial">
                    <a href="{{ r.url }}">{{ r.title }}</a>
                    {% if r.header.summary %}
                        <div style="font-size:12px; color:#586978;">{{ r.header.summary }}</div>
                    {% endif %}
                </td>

                <td data-label="Skill">
                    <div class="skill-stars">
                        {% for i in 1..5 %}
                            {% if i <= (r.header.skill|default(0)) %}
                                <span class="star filled">★</span>
                            {% else %}
                                <span class="star empty">☆</span>
                            {% endif %}
                        {% endfor %}
                    </div>
                </td>

                <td data-label="Author">
                    {% if r.header.author %}
                        {{ r.header.author }}
                    {% else %}
                        {{ r.header.taxonomy.author ?: '—' }}
                    {% endif %}
                </td>

                <td data-label="Type">
                    {% for t in r.taxonomy.type %}
                        <span class="tag-type">{{ t }}</span>
                    {% endfor %}
                </td>

                <td data-label="Views" style="text-align:right">
                    {{ r.header.views ?: '—' }}
                </td>
            </tr>
        {% else %}
            <tr><td colspan="5">No tutorials found.</td></tr>
        {% endfor %}
        </tbody>
    </table>
{% endmacro %}
